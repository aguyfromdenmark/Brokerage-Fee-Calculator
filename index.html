<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Brokerage Fee Calculator</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col-md-8 col-md-offset-2 col-sm-12">
          <h1>Brokerage Fee Calculator</h1>
          <small>For Nordnet</small>
          <div class="row">
            <div class="col-sm-6">
              <div>
                <label>Pick account type</label>
              </div>

                <input type="radio" name="accountType" value="Standard" />Standard<br />
                <input type="radio" name="accountType" value="Bonus" />Bonus <br />
                <input type="radio" name="accountType" value="Pro" />Pro
            </div>
            <div class="col-sm-6">
              <div>
                  <label>Pick market</label>
              </div>

                <input type="radio" name="market" value="DKK" />Denmark<br />
                <input type="radio" name="market" value="SEK" />Sweden <br />
                <input type="radio" name="market" value="NOK" />Norway
            </div>
          </div>

          <div class="row">
            <div class="col-sm-6">
              <div class="form-group">
                <label for="tradePrice">Trade price</label>
                <input type="number" name="tradePrice" class="form-control" />
              </div>
            </div>
            <div class="col-sm-6">
              <div class="form-group">
                <label for="tradeAmount">Trade Amount</label>
                <input type="number" name="tradeAmount" class="form-control" />
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-4">
              <div id="resultBox">
                <p>
                  Total trade price is: <span id="totalTradeResult"></span>
                </p>
                <p>
                  Price pr. unit: <span id="tradeUnitResult"></span>
                </p>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="form-group">
                <div>
                  <label>Pick trade</label>
                </div>
                <input type="radio" name="tradeType" value="Buy" />Buy<br />
                <input type="radio" name="tradeType" value="Sell" />Sell
              </div>
            </div>
            <div class="col-sm-4">
                <button class="btn btn-info" type="button" id="tradeCalculateButton">Calculate</button>
            </div>
          </div>
          <small>I am just a customer of Nordnet, I do not work for them or have any other relations with them. This is a project of my own interest. The accuracy of the calculation can not be guaranteed. - 2017 Andreas Kristensen @aguyfromdenmark</small>
        </div>
      </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="TradeObject.js"></script>
    <script type="text/javascript">

      $('#tradeCalculateButton').on('click', function(){

        var accountType = $('input[name=accountType]:checked').val();
        var market = $('input[name=market]:checked').val();
        var price = $('input[name=tradePrice]').val();
        var amount = $('input[name=tradeAmount]').val();
        var tradeType = $('input[name=tradeType]:checked').val();

        price = parseFloat(price);
        amount = parseFloat(amount);

        var trade = new Trade(accountType,price,market,tradeType);

        var totalTradeResult = trade.GetTotalTradePrice();
        totalTradeResult = parseFloat(totalTradeResult);

        var tradeUnitResult = totalTradeResult/amount;

        $('#totalTradeResult').html(totalTradeResult + " " + trade.Market);
        $('#tradeUnitResult').html((tradeUnitResult)  + " " + trade.Market);
        trade = null;
      });
    </script>
  </body>
</html>
